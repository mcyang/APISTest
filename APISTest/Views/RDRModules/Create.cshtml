@*@model APISTest.Models.RDRModule*@
@model APISTest.ViewModels.RDRModuleViewModel

@{
    ViewBag.Title = "Create";
}
<script src="~/Scripts/jquery-1.10.2.min.js"></script>

<h2>Create</h2>

@using (Html.BeginForm()) 
{
    @Html.AntiForgeryToken()
    
    <div class="form-horizontal">
        <h4>RDRModule</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(m => m.ParentID)
        @Html.HiddenFor(m => m.MainCode)
        @Html.HiddenFor(m => m.StartYear)
        @Html.HiddenFor(m => m.EndYear)

        @*<div class="form-group">
            @Html.LabelFor(model => model.ParentID, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.ParentID, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.ParentID, "", new { @class = "text-danger" })
            </div>
        </div>*@

        <div class="form-group">
            @Html.Label("RDR#", htmlAttributes: new { @class = "control-label col-md-2" })
            @*@Html.LabelFor(model => model.RDRNumber, htmlAttributes: new { @class = "control-label col-md-2" })*@
            <div class="col-md-5">
                <span style="color:red">系統自動編號</span>
                @*@Html.EditorFor(model => model.RDRNumber, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.RDRNumber, "", new { @class = "text-danger" })*@
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.ModuleName, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-5">
                @Html.EditorFor(model => model.ModuleName, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.ModuleName, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.Label("產品別", htmlAttributes: new { @class = "control-label col-md-2" })
            @*@Html.LabelFor(model => model.ProductGroupID, htmlAttributes: new { @class = "control-label col-md-2" })*@
            <div class="col-md-5">
                @* 下拉 *@
                @Html.DDL_ProductGroup("ProductGroupsList", 0)
                @*@Html.EditorFor(model => model.ProductGroupID, new { htmlAttributes = new { @class = "form-control" } })*@
                @Html.ValidationMessageFor(model => model.ProductGroupID, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.Label("交貨地", htmlAttributes: new { @class = "control-label col-md-2" })
            @*@Html.LabelFor(model => model.CustomerID, htmlAttributes: new { @class = "control-label col-md-2" })*@
            <div class="col-md-5">
                @*@Html.EditorFor(model => model.CustomerID, new { htmlAttributes = new { @class = "form-control" } })*@
                @* 下拉 *@
                @Html.DDL_Customers("CustomersList",4,0)
                @Html.ValidationMessageFor(model => model.CustomerID, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.Label("預估年產量", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-5">
                <table class="table-bordered">
                    <tr>
                        <td class="col-xs-2">年度</td>
                        <td style="text-align:center">預估年產量</td>
                    </tr>
                    @for (int i = 0; i < (Model.EndYear - Model.StartYear + 1); i++)
                    {
                        int idx = Model.StartYear + i;
                        <tr>
                            <td style="text-align:center">@idx.ToString()</td>
                            <td style="text-align:center">
                                @Html.Editor("Index_" + idx.ToString(), Model.estimate)
                            </td>
                        </tr>
                    }
                </table>
            </div>


            @*@Html.LabelFor(model => model.EstimateProduct, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.EstimateProduct, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.EstimateProduct, "", new { @class = "text-danger" })
            </div>*@
        </div>

        <div class="form-group">
            @Html.Label("附件", htmlAttributes: new { @class = "control-label col-md-2" })
            @*@Html.LabelFor(model => model.Attachment, htmlAttributes: new { @class = "control-label col-md-2" })*@
            <div class="col-md-5">
                @* 上傳 *@
                @Html.EditorFor(model => model.Attachment, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Attachment, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.Label("備註", htmlAttributes: new { @class = "control-label col-md-2" })
            @*@Html.LabelFor(model => model.Remark, htmlAttributes: new { @class = "control-label col-md-2" })*@
            <div class="col-md-5">
                @Html.TextAreaFor(model => model.Remark, new { htmlAttributes = new { @class = "form-control" },rows=5, cols=70 })
                @Html.ValidationMessageFor(model => model.Remark, "", new { @class = "text-danger" })
            </div>
        </div>

        @*<div class="form-group">
            @Html.LabelFor(model => model.ModuleVersion, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.ModuleVersion, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.ModuleVersion, "", new { @class = "text-danger" })
            </div>
        </div>*@

        @*<div class="form-group">
            @Html.LabelFor(model => model.CreateTime, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.CreateTime, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.CreateTime, "", new { @class = "text-danger" })
            </div>
        </div>*@

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Create" class="btn btn-default" />
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>

<script type="text/javascript">
    $(function () {
        var start = $('#StartYear').val();
        var end = $('#EndYear').val();
        var period = end - start + 1;

        for (var i = 1; i < period; i++)
        {

        }
    });
</script>